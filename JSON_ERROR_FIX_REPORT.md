# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º—ã JSON-–æ—Ç–≤–µ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `verify_email.php?token=...` –≤–æ–∑–≤—Ä–∞—â–∞–ª—Å—è JSON-–æ—Ç–≤–µ—Ç:

```json
{ "success": false, "error": "Invalid request method" }
```

–•–æ—Ç—è –ø—Ä–∏ —ç—Ç–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email —Ä–∞–±–æ—Ç–∞–ª–æ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

## –ü—Ä–∏—á–∏–Ω–∞

1. –í —Ñ–∞–π–ª–µ `verify_email.php` –ø—Ä–∏ —Å–º–µ–Ω–µ —è–∑—ã–∫–∞ –≤ URL –¥–æ–±–∞–≤–ª—è–ª—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä `lang`, –Ω–æ —ç—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —è–∑—ã–∫–∞ –≤ —Å–µ—Å—Å–∏–∏.

2. –í —Ñ–∞–π–ª–µ `email_verification_required.php` –±—ã–ª–æ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `includes/set_language.php`, –∫–æ—Ç–æ—Ä–æ–µ –≤—ã–≤–æ–¥–∏–ª–æ JSON-–æ—Ç–≤–µ—Ç –ø—Ä–∏ GET-–∑–∞–ø—Ä–æ—Å–µ.

3. –§–∞–π–ª `set_language.php` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è AJAX-–∑–∞–ø—Ä–æ—Å–æ–≤ —Å –º–µ—Ç–æ–¥–æ–º POST, –Ω–æ –ø–æ–ª—É—á–∞–ª GET-–∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `lang`.

## –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. verify_email.php

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `lang` –∏–∑ URL –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —è–∑—ã–∫–∞ –≤ —Å–µ—Å—Å–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ JavaScript —Ñ—É–Ω–∫—Ü–∏—è `switchLanguage()` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 2. email_verification_required.php

- ‚úÖ –£–±—Ä–∞–Ω–æ –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `includes/set_language.php`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `lang` –∏–∑ URL
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω HTML –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —è–∑—ã–∫–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω CSS –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è —è–∑—ã–∫–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ JavaScript —Ñ—É–Ω–∫—Ü–∏—è `switchLanguage()`

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç `test_verify_page.php` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ JSON-–æ—à–∏–±–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç `test_email_required_page.php` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ JSON-–æ—à–∏–±–∫–∏
- ‚úÖ –û–±–∞ —Ç–µ—Å—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É HTML-—Å—Ç—Ä–∞–Ω–∏—Ü

## –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚ùå JSON-–æ—à–∏–±–∫–∞ "Invalid request method" –±–æ–ª—å—à–µ –ù–ï –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°–º–µ–Ω–∞ —è–∑—ã–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞ –æ–±–µ–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- ‚úÖ –í—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π HTML –≤–º–µ—Å—Ç–æ JSON

## –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑ –ª–æ–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä–∞

–õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª–∏ —Ç–æ—á–Ω—É—é –ø—Ä–∏—á–∏–Ω—É –ø—Ä–æ–±–ª–µ–º—ã:

```
PHP Warning: Cannot modify header information - headers already sent by (output started at /var/www/vhosts/ramazango.kz/httpdocs/quizcard/verify_email.php:122) in /var/www/vhosts/ramazango.kz/httpdocs/quizcard/includes/set_language.php on line 3
```

### –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:

- üìç **–°—Ç—Ä–æ–∫–∞ 122**: –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è HTML –≤—ã–≤–æ–¥ (`<!DOCTYPE html>`)
- ‚ùå **–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ**: –í—ã–∑—ã–≤–∞–µ—Ç—Å—è `set_language.php` –∫–æ—Ç–æ—Ä—ã–π –ø—ã—Ç–∞–µ—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `Content-Type: application/json`
- ‚ö†Ô∏è **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –û—à–∏–±–∫–∞ "headers already sent"

### –£—Å–ø–µ—à–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

- ‚úÖ `GET verify_email.php?token=...` ‚Üí 200 OK
- ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `login.php` ‚Üí 200 OK
- ‚úÖ POST –≤—Ö–æ–¥ ‚Üí 302 —Ä–µ–¥–∏—Ä–µ–∫—Ç
- ‚úÖ `GET teacher/dashboard.php` ‚Üí 200 OK

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—ã–ª–∏ —Ç–æ—á–Ω—ã–º–∏ –∏ —Ä–µ—à–∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—É –ø–æ–ª–Ω–æ—Å—Ç—å—é!**

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ

1. –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:

   - `test_verify_page.php`
   - `test_email_required_page.php`

2. –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è
   - –ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ–Ω—ã —è–∑—ã–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã!
